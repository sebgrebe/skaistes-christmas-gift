YUI.add("hermes-template-share-modal-mail-pill",function(a,e){var s=a.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(a,e,s,l,t){var r=null!=e?e:{},i=s.helperMissing,n=a.escapeExpression;return'<div class="pill" title="'+n((s.stripTags||e&&e.stripTags||i).call(r,null!=e?e.value:e,{name:"stripTags",hash:{},data:t}))+'">\n\t<span>'+n((s.stripTags||e&&e.stripTags||i).call(r,null!=e?e.value:e,{name:"stripTags",hash:{},data:t}))+'</span>\n\t<span class="remove-tag">\n\t\t<i class="delete-tag" title="Delete"></i>\n\t</span>\n</div>'},useData:!0}),l={};a.Array.each([],function(e){var s=a.Template.get("hermes/"+e);s&&(l[e]=s)}),a.Template.register("hermes/share-modal-mail-pill",function(e,t){return t=t||{},t.partials=t.partials?a.merge(l,t.partials):l,s(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-warning",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,s,l){var t;return e.escapeExpression("function"==typeof(t=null!=(t=n.title||(null!=a?a.title:a))?t:n.helperMissing)?t.call(null!=a?a:{},{name:"title",hash:{},data:l}):t)},3:function(e,a,n,s,l){return e.escapeExpression((n.intlMessage||a&&a.intlMessage||n.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"common.OOPS"},data:l}))},compiler:[7,">= 4.0.0"],main:function(e,a,n,s,l){var t,i,r=null!=a?a:{},u=n.helperMissing,m=e.escapeExpression;return'<div class="fluid-warning">\n\t<span class="warning-title">'+(null!=(t=n.if.call(r,null!=a?a.title:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?t:"")+'</span>\n\t<br/><br/>\n\t<span class="warning-message">'+m("function"==typeof(i=null!=(i=n.message||(null!=a?a.message:a))?i:u)?i.call(r,{name:"message",hash:{},data:l}):i)+'</span>\n\t<button class="button">'+m((n.intlMessage||a&&a.intlMessage||u).call(r,{name:"intlMessage",hash:{intlName:"common.OK"},data:l}))+"</button>\n</div>"},useData:!0}),s={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(s[a]=n)}),e.Template.register("hermes/fluid-warning",function(a,l){return l=l||{},l.partials=l.partials?e.merge(s,l.partials):s,n(a,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-panel-error",function(e,a){var r=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,r,s,n){var l,t=null!=a?a:{},i=r.helperMissing,o=e.escapeExpression;return'<div class="share-panel-body cancel-share">\n\t<div class="cancel-message">\n\t\t'+o("function"==typeof(l=null!=(l=r.errorMessage||(null!=a?a.errorMessage:a))?l:i)?l.call(t,{name:"errorMessage",hash:{},data:n}):l)+'\n\t</div>\n\n\t<button class="done-sharing mini">'+o((r.intlHTMLMessage||a&&a.intlHTMLMessage||i).call(t,{name:"intlHTMLMessage",hash:{intlName:"common.CANCEL"},data:n}))+"</button>\n</div>"},useData:!0}),s={};e.Array.each([],function(a){var r=e.Template.get("hermes/"+a);r&&(s[a]=r)}),e.Template.register("hermes/fluid-share-panel-error",function(a,n){return n=n||{},n.partials=n.partials?e.merge(s,n.partials):s,r(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-html-embed-code",function(a,e){var l=a.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(a,e,l,t,n){var h,i=null!=e?e:{},r=l.helperMissing,s="function",m=a.escapeExpression;return'<a href="'+m(typeof(h=null!=(h=l.embedLink||(null!=e?e.embedLink:e))?h:r)===s?h.call(i,{name:"embedLink",hash:{},data:n}):h)+'" title="'+m(typeof(h=null!=(h=l.title||(null!=e?e.title:e))?h:r)===s?h.call(i,{name:"title",hash:{},data:n}):h)+" by "+m(typeof(h=null!=(h=l.authorName||(null!=e?e.authorName:e))?h:r)===s?h.call(i,{name:"authorName",hash:{},data:n}):h)+", "+m((l.intlMessage||e&&e.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"share-modal.ON_FLICKR"},data:n}))+'"><img src="'+m(typeof(h=null!=(h=l.farmURL||(null!=e?e.farmURL:e))?h:r)===s?h.call(i,{name:"farmURL",hash:{},data:n}):h)+'" width="'+m(typeof(h=null!=(h=l.width||(null!=e?e.width:e))?h:r)===s?h.call(i,{name:"width",hash:{},data:n}):h)+'" height="'+m(typeof(h=null!=(h=l.height||(null!=e?e.height:e))?h:r)===s?h.call(i,{name:"height",hash:{},data:n}):h)+'" alt="'+m(typeof(h=null!=(h=l.alt||(null!=e?e.alt:e))?h:r)===s?h.call(i,{name:"alt",hash:{},data:n}):h)+'"></a>'},useData:!0}),t={};a.Array.each([],function(e){var l=a.Template.get("hermes/"+e);l&&(t[e]=l)}),a.Template.register("hermes/fluid-share-old-html-embed-code",function(e,n){return n=n||{},n.partials=n.partials?a.merge(t,n.partials):t,l(e,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-iframe-embed-code",function(e,l){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,l,a,r,n){var t,i=null!=l?l:{},s=a.helperMissing,h=e.escapeExpression;return'<iframe src="'+h("function"==typeof(t=null!=(t=a.embedLink||(null!=l?l.embedLink:l))?t:s)?t.call(i,{name:"embedLink",hash:{},data:n}):t)+'" width="'+h("function"==typeof(t=null!=(t=a.width||(null!=l?l.width:l))?t:s)?t.call(i,{name:"width",hash:{},data:n}):t)+'" height="'+h("function"==typeof(t=null!=(t=a.height||(null!=l?l.height:l))?t:s)?t.call(i,{name:"height",hash:{},data:n}):t)+'" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>'},useData:!0}),r={};e.Array.each([],function(l){var a=e.Template.get("hermes/"+l);a&&(r[l]=a)}),e.Template.register("hermes/fluid-share-old-iframe-embed-code",function(l,n){return n=n||{},n.partials=n.partials?e.merge(r,n.partials):r,a(l,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("flutil",function(e){"use strict";var t,n=e.config.win,r=e.config.doc,o={transitionTimeout:2e3},i={getPrefixedStyleProperty:{}},a={};t=e.flutil={xbrowser:{transition:{property:"transitionProperty",duration:"transitionDuration",transitionEndEvent:"transitionend"}},setStylePrefixed:function(t,n,r){var o=this.getPrefixedStyleProperty(t);return e.Array.each(o,function(e){r.setStyle(e,n)}),r},getPrefixedStyleProperty:function(t){if(i.getPrefixedStyleProperty[t])return i.getPrefixedStyleProperty[t];var n=[];return e.Array.each(["-webkit-","-moz-","-ms-",""],function(e){n.push(e+t)}),i.getPrefixedStyleProperty[t]=n,n},dump:function(){for(var e,t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];e="string"==typeof t[0]?t.shift():"LOG",t.unshift("color: #FC0"),t.unshift("%c["+e+"]"),console.log.apply(console,t)},extend:function(e){e||(e={});for(var t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];return Array.prototype.slice.call(t,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},objectCreate:function(e,n){var r,o;return r=function(){},r.prototype=e,o=new r,n?t.extend(o,n):o},result:function(t){return e.Lang.isFunction(t)?t():t},onTransitionEnd:function(e,r){if(r&&"function"==typeof r){var i,a,u,s;if(e=e.getDOMNode(),u=n.getComputedStyle(e)[t.xbrowser.transition.property],s=n.getComputedStyle(e)[t.xbrowser.transition.duration],!u||!s)return r();a=function(){clearTimeout(i),e.removeEventListener(t.xbrowser.transition.transitionEndEvent,a),r()},i=setTimeout(a,o.transitionTimeout),e.addEventListener(t.xbrowser.transition.transitionEndEvent,a)}},toCamelCase:function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},setCookie:function(t){if(!t.cookieName||void 0===t.cookieValue||!t.path)throw new Error("[flutil.setCookie] Missing important parameters to set a cookie");var n=t.cookieName,r=t.cookieValue,o=t.domain||".flickr.com",i=t.path,a=t.expiresMonthsFromNow||3,u=e.Lang.isNumber(t.expires)?t.expires:e.moment().add(a,"months").toDate();t.remove&&e.Cookie.remove(n,{path:i}),e.Cookie.set(n,r,{domain:o,path:i,expires:u})},createFragment:function(e){var t,n=r.createElement("div"),o=r.createDocumentFragment();for(n.innerHTML=e;t=n.firstChild;)o.appendChild(t);return o},constrainToValues:function(e,t){if(!t)throw new Error("Must supply list to constrain to values.");return e&&"string"==typeof e?t.indexOf(e)<0?t[0]:e:t[0]},escapeInput:function(e,t){var n;return r?e||"number"==typeof e?(t||(t="text"),"html"===t?((n=r.createElement("div")).appendChild(r.createTextNode(e)),n.innerHTML):"text"===t?(n=r.createElement("div"),e=e.replace(/(<([^>]+)>\s*)+/gi," ").trim(),n.appendChild(r.createTextNode(e)),n.innerHTML):"numericstring"===t?(e+"").replace(/[^\d]/,""):void 0):"":e},disableEvent:function(n,r){r=e.merge({excepted:":not(*)",onDisabledEvent:null},r),document.body.addEventListener&&(a[n]=a[n]||{},a[n][r.excepted]&&t.enableEvent(n,r.excepted),a[n][r.excepted]=function(t){r.excepted&&e.one(t.target).ancestors(r.excepted,!0).isEmpty()&&(t.preventDefault(),t.stopPropagation(),r.onDisabledEvent&&r.onDisabledEvent(t))},document.body.addEventListener(n,a[n][r.excepted],!0))},enableEvent:function(t,n){n=e.merge({excepted:":not(*)"},n),a[t]&&a[t][n.excepted]&&(document.body.removeEventListener(t,a[t][n.excepted],!0),a[t][n.excepted]=null)},unescape:function(t){if(!t||!e.Lang.isString(t))return t;var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#92;":"\\"};return t.replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;|&#39;|&#92;)/gi,function(e){return n[e.toLowerCase()]})},normalizeURIComponents:function(e){var t,n,r,o;if(t={"&":["&amp;","&#x00026;","&#38;"],"<":["&lt;","&#x0003C;","&#60;"],">":["&gt;","&#x0003E;","&#62;"],'"':["&quot;","&#x00022;","&#34;"],"'":["&apos;","&#x00027;","&#39;"],"`":["&grave;","&DiacriticalGrave;","&#x00060;","&#96;"]},e){e=(e=e.replace(/\+/g," ")).replace(/%25/g,"%2525");for(n in t)r=n,o=t[n],e=e.replace(new RegExp(o.join("|"),"gi"),r);return e=decodeURIComponent(e)}},template:function(e,t){return e.replace(/\{\{([\w\.=]+)\}\}/g,function(e,n){var r,o=n.split(/=/);return void 0!==(r=o[0].split(/\./).reduce(function(e,t){return e?e[t]:null},t))&&null!==r?r+"":o[1]||""}).trim()},createHashCode:function(e){var t;return t="object"!=typeof e?e+"":Object.keys(e||{}).map(function(t){var n=t;try{n+=JSON.stringify(e[t])}catch(e){n+="?"}return n}).join(""),t=t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0).toString().replace(/^-/,""),"0000000000".slice(0,-1*t.length)+t},camelCaseifyKeys:function(e){return Object.keys(e).reduce(function(n,r){return n[t.camelCaseify(r)]=e[r],n},{})},camelCaseify:function(e){return e.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})},unCamelCaseify:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^-/,"")},unicodeVariants:["(?:ae|æ)","(?:oe|œ)","(?:ss|ß)","(?:th|Þ)","[aáàâäãaåấ]","[eéèêëě3]","[iíìîïǐ]","[oóòôöõǒỏơớờởỡợø]","[uúùûüǔǚưứừửữự]","[yýÿ]","[cçč]","[dÐ]","[fƒ]","[gǧ]","[hȟ]","[jǰ]","[kǩ]","[lľ]","[nñň]","[rř®]","[sšṧ]","[tť]","[zž]"],agnosticizeUnicode:function(e){var t,n=this.unicodeVariants,r=n.length;for(t=0;t<r;t++)e=e.replace(new RegExp(n[t],"gi"),n[t]);return e},buildHttpQuery:function(e,t){return e+"?"+Object.keys(t||{}).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},formatNumbers:function(e){return Math.floor(e/1e6)>0?e=Math.floor(e/1e5)/10+"M":Math.floor(e/1e3)>0?e=Math.floor(e/100)/10+"K":e},formatIntlPluralNumber:function(t,n,r){var o=e.flutil.formatNumbers(n);return r?t.replace(/(?:\d*[,\.]\d+)+/,o):t.replace(/(?:\d*[,\.\s]\d+)+/,o)},openPopupWindow:function(t,n){var r,o,i,a,u,s;if("undefined"!=typeof window)return o=window,n=e.mix({name:"WIN"+(new Date).getTime(),ui:{}},n||{},!0),(i=e.mix({dependent:!0,status:!0,scrollbars:!0,width:600,height:600},n.ui,!0)).top||(i.top=Math.floor((o.screen.height-i.height)/2)),i.left||(i.left=Math.floor((o.screen.width-i.width)/2)),r=Object.keys(i).map(function(e){var t=i[e];return"boolean"==typeof t&&(t=t?"yes":"no"),e+"="+t}).join(","),(o=o.open(t,n.name,r)).focus(),(n.onUrlChange||n.onClose)&&(a="_start_",s=setInterval(function(){if(!o.location)return clearInterval(s),void(n.onClose&&n.onClose());try{u=o.location.href||"x-origin"}catch(t){o.postMessage("",e.url())}u!==a&&(a=u,n.onUrlChange&&n.onUrlChange(u))},1e3)),o},parseYYYYMMDDDatestamp:function(t){return e.Lang.isString(t)&&8===t.length?Date.parse(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)):null},photoCoords:{normalize:function(e,t,n,r){return{x:e/500,y:t/375,w:n/500,h:r/375}},denormalize:function(e){return{x:500*e.x,y:375*e.y,w:500*e.w,h:375*e.h}},denormX:function(e){return 500*e.x},denormY:function(e){return 375*e.y},denormW:function(e){return 500*e.w},denormH:function(e){return 375*e.h}},getGroupsOptoutValues:function(t){var n=[];return!0===t["rebootify-group-members"]&&n.push({name:"groups_members_opt",value:0}),!0===t["enable-groups-discussion-optout"]&&n.push({name:"groups_discuss_opt",value:0}),!0===t["enable-groups-optout"]&&n.push({name:"groups_opt",value:0}),{url:e.url("/help/forum/en-us/72157645851675914/lastpage#reply"),flippers:n}},nonLockingSynchronousLoop:function(e,t,n,r){var o,i=0,a=!0,u=Object.keys(e),s=function(e){t(e),++i>=c?n():i===o||a?(i===o&&(o+=r.threshold),a=!1,setTimeout(function(){s(u[i])},1)):s(u[i])},c=u.length;(r=r||{}).threshold=r.threshold||1e3,o=r.threshold,a=!1!==r.earlyUnlock,s(u[i])}}},"@VERSION@",{requires:["url"]});